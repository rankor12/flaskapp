<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>COVID PREDICTOR </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body class="bg-dark">
    <div class = "container">
        <div class = "row">
            <div class = "card" style = "width: 100%; height: 100%; margin-top: 50px">
                <div class = "card-header" style = "text-align: Center">
                    <h1>
                        Welcome To Covid Predictor
                    </h1>

                </div>
                <div class="card-body">
                    <form method="post" accept-charset="utf-8">
                       <div class="row">
                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Age </b></label>
                               <input type="text" class="form-control" id="age" name="age" placeholder="Enter your age">
                           </div>


                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Gender </b></label>
                               <select class="selectpicker form-control" id="sex" name="sex" required="1">
                                   <option value="select">select</option>
                                   {% for sex in sex %}
                                        <option value="{{ sex }}">{{ sex }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Enter Your Education </b></label>
                               <select class="selectpicker form-control" id="education" name="education" required="1">
                                   <option value="select">select</option>
                                   {% for education in education %}
                                        <option value="{{ education }}">{{ education }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Enter your Occupation </b></label>
                               <select class="selectpicker form-control" id="occupation" name="occupation" required="1">
                                   <option value="select">select</option>
                                   {% for occupation in occupation %}
                                        <option value="{{ occupation }}">{{ occupation }}</option>
                                   {% endfor %}
                               </select>
                           </div>


                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> height </b></label>
                               <input type="text" class="form-control" id="height" name="height" placeholder="enter height">
                           </div>
                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> weight </b></label>
                               <input type="text" class="form-control" id="weight" name="weight" placeholder="enter weight">
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Do You Have Diabetes? </b></label>
                               <select class="selectpicker form-control" id="diabetes" name="diabetes" required="1">
                                   <option value="select">select</option>
                                   {% for diabetes in diabetes %}
                                        <option value="{{ diabetes }}">{{ diabetes }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Do You Have hypertension? </b></label>
                               <select class="selectpicker form-control" id="hypertension" name="hypertension" required="1">
                                   <option value="select">select</option>
                                   {% for hypertension in hypertension %}
                                        <option value="{{ hypertension }}">{{ hypertension }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Do You Have asthma? </b></label>
                               <select class="selectpicker form-control" id="asthma" name="asthma" required="1">
                                   <option value="select">select</option>
                                   {% for asthma in asthma %}
                                        <option value="{{ asthma }}">{{ asthma }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Do You Have Tb? </b></label>
                               <select class="selectpicker form-control" id="tb" name="tb" required="1">
                                   <option value="select">select</option>
                                   {% for tb in tb %}
                                        <option value="{{ tb }}">{{ tb }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Do You Have Cancer? </b></label>
                               <select class="selectpicker form-control" id="cancer" name="cancer" required="1">
                                   <option value="select">select</option>
                                   {% for cancer in cancer %}
                                        <option value="{{ cancer }}">{{ cancer }}</option>
                                   {% endfor %}
                               </select>
                           </div>


                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> covid_severity </b></label>
                               <select class="selectpicker form-control" id="covid_severity" name="covid_severity" required="1">
                                   <option value="select">select</option>
                                   {% for covid_severity in covid_severity %}
                                        <option value="{{ covid_severity }}">{{ covid_severity }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Are You Suffering From Fatigue? </b></label>
                               <select class="selectpicker form-control" id="lc_fatigue_four" name="lc_fatigue_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_fatigue_four in lc_fatigue_four %}
                                        <option value="{{ lc_fatigue_four }}">{{ lc_fatigue_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Are You suffering From cough? </b></label>
                               <select class="selectpicker form-control" id="lc_cough_four" name="lc_cough_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_cough_four in lc_cough_four %}
                                        <option value="{{ lc_cough_four }}">{{ lc_cough_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>


                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Are you Suffering From headache? </b></label>
                               <select class="selectpicker form-control" id="lc_headache_four" name="lc_headache_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_headache_four in lc_headache_four %}
                                        <option value="{{ lc_headache_four }}">{{ lc_headache_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Are you Suffering From breathing? </b></label>
                               <select class="selectpicker form-control" id="lc_breathing_four" name="lc_breathing_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_breathing_four in lc_breathing_four %}
                                        <option value="{{ lc_breathing_four }}">{{ lc_breathing_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Are you Suffering From taste loss? </b></label>
                               <select class="selectpicker form-control" id="lc_taste_four" name="lc_taste_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_taste_four in lc_taste_four %}
                                        <option value="{{ lc_taste_four }}">{{ lc_taste_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> Are you suffering from smell loss? </b></label>
                               <select class="selectpicker form-control" id="lc_smell_four" name="lc_smell_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_smell_four in lc_smell_four %}
                                        <option value="{{ lc_smell_four }}">{{ lc_smell_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>


                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> lc_brainfog_four </b></label>
                               <select class="selectpicker form-control" id="lc_brainfog_four" name="lc_brainfog_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_brainfog_four in lc_brainfog_four %}
                                        <option value="{{ lc_brainfog_four }}">{{ lc_brainfog_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>

                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> lc_chestpain_four </b></label>
                               <select class="selectpicker form-control" id="lc_chestpain_four" name="lc_chestpain_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_chestpain_four in lc_chestpain_four %}
                                        <option value="{{ lc_chestpain_four }}">{{ lc_chestpain_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>


                           <div class="col-md-6 form-group" style = "text-align: center">
                               <label><b> You Suffering From Fever? </b></label>
                               <select class="selectpicker form-control" id="lc_fever_four" name="lc_fever_four" required="1">
                                   <option value="select">select</option>
                                   {% for lc_fever_four in lc_fever_four %}
                                        <option value="{{ lc_fever_four }}">{{ lc_fever_four }}</option>
                                   {% endfor %}
                               </select>
                           </div>




                           <div class="col-md-12 form-group">
                               <label><b> </b></label>
                               <button class="btn btn-primary form-control" onclick="send_data()">predict</button>
                           </div>

                       </div>

                    </form>
                    <br>
                    <div class="col-md-12" style="text-align: center">
                        <h3><span id="prediction"></span></h3>
                    </div>

                </div>

            </div>
        </div>
    </div>

     <script>

        function form_handler(event){
            event.preventDefault(); //Don't submit the form normally
        }

        function send_data()
        {
            document.querySelector('form').addEventListener("submit",form_handler);

            var fd=new FormData(document.querySelector('form'));

            var xhr= new XMLHttpRequest();

            xhr.open('POST','/predict',true);
            document.getElementById("prediction").innerHTML = "Wait Predicting!...";
            xhr.onreadystatechange = function(){
                if(xhr.readyState == XMLHttpRequest.DONE){
                    document.getElementById('prediction').innerHTML = "covid prediction: " + xhr.responseText;
                }
            };

            xhr.onload = function(){};
            xhr.send(fd);

        }
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  </body>
</html>
